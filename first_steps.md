# Первые шаги

## Запуск Vim

Первый шаг, конечно, чтобы узнать, как запустить Vim.

### Графическая версия

#### Windows

Кликните Пуск &rarr; Программы &rarr; Vim 7 &rarr; gVim.

#### Mac OS X

Кликните Finder &rarr; Приложения &rarr; MacVim.

#### Linux / BSD

Кликните Приложения &rarr; Аксессуары &rarr; GVim Text Editor, или нажмите `Alt+F2`, выберите `gvim` и нажмите клавишу `enter`.

### Терминальная версия

#### Windows

Кликните Пуск &rarr; Запуск, наберите `vim` и нажмите клавишу `enter`.

#### Mac OS X

Кликните Finder &rarr; Приложения &rarr; Утилиты &rarr; Terminal, наберите `vim` и нажмите клавишу `enter`.

#### Linux / BSD

Кликните Приложения &rarr; Аксессуары &rarr; Terminal, или нажмите `Alt+F2`, наберите `konsole`/`gnome-terminal` и нажмите клавишу `enter`. Теперь наберите `vim` и нажмите клавишу `enter`.

### Резюме

С этого момента, когда мы говорим "открыть Vim", используйте любой из двух методов, упомянутых выше.

> ПРИМЕЧАНИЕ: при запуске Vim, вы могли заметить, что вы не можете сразу начать вводить текст. Не паникуйте, мы все объясним через некоторое время.

## Графический или Терминальный?

Графическая версия Vim имеет меню в верхней части приложения, а также различные опции, доступные с помощью мыши, но обратите внимание, что это совершенно необязательно. Вы все еще можете получить доступ ко всем функциям Vim, используя *только* клавиатуру.

Почему это так важно? Потому что, как только человек становится опытным в наборе текста, использование только клавиатуры делает человека гораздо быстрее и менее подверженым ошибкам, в отличие от использования мыши. Это связано с тем, что движение руки, необходимое для переключения между клавиатурой и мышью, является медленным, и есть контекстный переключатель, необходимый в сознании человека при перемещении руки между клавиатурой и мышью. Если мы сделаем привычку использовать клавиатуру как можно больше, вы сохраните ценное движение руки.

Конечно, это субъективно. Некоторые люди предпочитают мышь, а некоторые - клавиатуру. Я призываю вас использовать клавиатуру как можно больше, чтобы испытать реальную силу Vim.

## Введение в режимы

Представьте, что это субботний вечер, и вы устали от шоу по телевизору. Вместо этого вы хотите посмотреть старый любимый фильм. Таким образом, вы *переключаете телевизор в видео-режим* так, чтобы он показывал то, что показывает DVD-плеер вместо кабельных каналов. Обратите внимание, что телевизор по-прежнему показывает видео, но вы переключаете контекст, хотите ли вы смотреть DVD или ТВ канал.

Аналогично и Vim имеет режимы. Например, Vim имеет режим для записи текста, режим для выполнения команд и т.д. Все они связаны с основной целью редактирования текста, но вы переключаете контекст на то, хотите ли вы просто ввести данные или хотите запустить некоторые команды для работы с текстом.

Разве это не просто?

Традиционно концепция режимов является наиболее часто упоминаемой причиной новичков о том, почему они считают Vim "запутанным". Я сравниваю это с ездой на велосипеде - вы будете пробовать ездить несколько раз, но как только освоитесь, то зададитесь вопросом, из-за чего весь этот шум.

Так почему же у Vim есть режимы? Чтобы сделать вещи как можно проще, даже если его использование может показаться "странным" на первый взгляд.

Что я имею в виду? Давайте возьмем пример - одна из ключевых целей в Vim - сделать его полностью доступным с клавиатуры без необходимости использовать мышь (вы все равно можете использовать её, если хотите, но это строго необязательно). В таком случае, как бы вы различали текст, который хотите написать, и команды, которые хотите запустить? Решение Vim состоит в том, чтобы иметь "нормальный" режим, в котором вы можете выполнять команды, и режим "вставки", в котором вы просто пишете текст. Вы можете переключаться между двумя режимами в любое время. Например, при нажатии `i` переключаете Vim в режим вставки (insert), и нажав `<ESC>` переключаете Vim обратно в нормальный режим.

Как традиционные редакторы достигают этого различия между командами и написанием текста? С помощью графических меню и сочетаний клавиш. Проблема в том, что это не масштабируется. Во-первых, если у вас есть сотни команд, создание меню для каждой из них было бы безумным и запутанным. Во-вторых, настройка того, как использовать каждую из этих команд, будет еще сложнее.

Возьмем конкретный пример. Предположим, Вы хотите изменить все вхождения слова "from" на слово "to" в документе. В традиционном редакторе вы можете запустить команду меню, такую как Edit &rarr; Заменить (или использовать комбинацию клавиш, такую как `ctrl-r`), а затем ввести слово "from" и слово "to", а затем нажать "Заменить". Затем установите флажок "Заменить все". В Vim вы просто запускаете`: %s/from/to/g` в обычном режиме. `:s` - это команда "заменить (substitute)". Видите, как все просто?

Что делать, если вы хотите теперь запустить эту замену только в первых 10 строках текста, и хотите получать подтверждение да/нет для каждой замены? В традиционных текстовых редакторах легко получить подтверждение "да/нет", сняв флажок "заменить все", но обратите внимание, что сначала нужно найти этот параметр, а затем щелкнуть по нему мышью (или использовать длинную серию клавиш с помощью клавиатуры). Но как вы будете запускать замену только для первых 10 строк? В Vim, вы можете просто запустить `:0,10s/from/to/gс`. Новая опция "c", которую мы используем, означает, что мы хотим получить подтверждающее ('c'onfirmation) сообщение для каждой замены.

Разделяя режимы записи (вставки - insert) и команды (normal), Vim позволяет нам легко переключать два контекста.

Обратите внимание, как первые шаги к использованию Vim кажутся немного "загадочным", немного "непонятным", но как только вы увидите его в действии, он приобретает смысл. Самое приятное, что эти основные концепции помогут вам понять все, что нужно знать о том, как использовать Vim.

Поскольку теперь вы понимаете разницу между нормальным режимом и режимом вставки, вы можете посмотреть различные команды, которые можно запустить в нормальном режиме, и можете сразу же начать их использовать. Сравните это с изучением новых команд в традиционных редакторах, что обычно означает необходимость читать много документации, искать меню, много проб и ошибок или просто просить кого-то о помощи.

Лично я нахожу названия режимов не интуитивно понятными для новичков. Я предпочитаю называть режим вставки режимом "записи", а нормальный режим - режимом "перезаписи", но мы будем придерживаться стандартной терминологии Vim, чтобы избежать путаницы.

> ПРИМЕЧАНИЕ: все команды в нормальном режиме должны заканчиваться клавишей Enter, чтобы сообщить Vim, что мы написали полную команду. Итак, когда мы говорим запустить `:help vim-modes-intro`, это означает, что вы должны ввести `:help vim-modes-intro`, а затем нажать клавишу enter в конце команды.

## Запись в файл {#write-file}

1. Откройте Vim. ![](img/first_steps_open.png)
2. Введите `:edit hello.txt` и нажмите клавишу Enter. ![](img/first_steps_edit.png)
3. Нажмите `i` для переключения в режим вставки (insert). ![](img/first_steps_insert.png)
4. Введите текст `Hello World`. ![](img/first_steps_type.png)
5. Нажмите клавишу `<Esc>`. ![](img/first_steps_normal.png)
6. Введите `:write` и нажмите клавишу `Enter`. ![](img/first_steps_write.png)
7. Закройте Vim запустив `:quit`. ![](img/first_steps_quit.png)

Поздравляю! Вы только что записали свой первый файл используя Vim :-).

Это похоже на множество шагов? Да, это так, *сначала*. Но лишь потому, что это первый раз, когда мы привыкаем открывать Vim, писать файл и закрывать Vim. Вы должны иметь в виду, что это будет только незначительная часть вашего времени по сравнению с фактическим временем, которое уходит на редактирование содержимого документа.

Давайте посмотрим, что делают вышеприведенные команды.

- `:edit hello.txt` или просто `:e hello.txt`
  - Откроет файл для редактирования. Если файл с указанным именем не существует, он будет создан при первом "сохранении" файла.
- Нажатие `i`
  - Переключит Vim в режим вставки
- Ввод текста `Hello World`
  - Здесь вы вводите текст, который хотите написать.
- Нажатие `<Esc>`
  - Переводит Vim обратно в нормальный режим
- `:write` или простоy `:w`
  - Это говорит Vim *w*rite (записать) текст (который в настоящее время хранится в компьютерной памяти) в файл на жестком диске. Это означает, что все, что мы написали до этого, будет храниться постоянно.
- `:quit` или просто `:q`
  - Это говорит Vim выйти из файла в "окне", котором мы редактировали. Если было открыто только одно "окно" - также закроет Vim (концепция окон будет рассмотрена в следующей главе). <!-- TODO: Convert this to a link -->

Попробуйте повторить этот процесс несколько раз с разными именами, разным текстом и т.д. так что бы привыкнуть к базовому набору шагов в использовании Vim.

Обратите внимание, что когда вы находитесь в режиме вставки, Vim отображает `-- INSERT --` в левом нижнем углу. При переключении в нормальный режим, он не будет отображать ничего. Это связано с тем, что нормальный режим - это режим *по умолчанию*, в котором работает Vim.

Потратьте некоторое время, чтобы впитать эту информацию, это, вероятно, самый сложный урок, который можно узнать о Vim, остальное легко :)

И не волнуйтесь, помощь не слишком далеко. На самом деле, это просто команда `:help`. Например, запустите `:help: edit` , и увидите, как откроется документация. Давай, попробуй.

## Резюме

Теперь мы обсудили основные понятия и использование Vim. Смотрите `:help notation` и также `:help keycodes`.

Обязательно хорошо разберитесь в этих понятиях. Как только вы начинаете "думать в Vim", понять остальные функции Vim будет легко.
